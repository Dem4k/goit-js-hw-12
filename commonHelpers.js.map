{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// Список параметров строки запроса, которые необходимо обязательно указать:\n\n// key твой уникальный ключ доступа к API.\n// q - слово для поиска. То, что будет вводить пользователь.\n// image_type – тип изображения. Нужны только фотографии, поэтому поставь значение  photo.\n// orientation – ориентация фотографии. Поставь значение  horizontal.\n// safesearch - фильтр по возрасту. Поставь значение  true.\n\nexport function getImages(searchValue) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '44400014-e8ce3fc6f032fabdec0605d2e';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","const galleryList = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nexport function renderImages(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        likes,\n        comments,\n        downloads,\n        views,\n        tags,\n      }) => `<li class=\"gallery-item\">\n      <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" />\n          <div>\n            <p>Likes ${likes}</p>\n            <p>Views ${views}</p>\n            <p>Comments ${comments}</p>\n            <p>Downloads ${downloads}</p>\n          </div></a>\n        </li>\n  `\n    )\n    .join('');\n  galleryList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function clearGallery() {\n  galleryList.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.style.display = 'inline-block';\n}\n\nexport function hideLoader() {\n  loader.style.display = 'none';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImages } from './js/pixabay-api';\nimport {\n  clearGallery,\n  hideLoader,\n  renderImages,\n  showLoader,\n} from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.querySelector('.search-form');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n  const searchValue = searchForm.elements.searchValue.value.trim();\n  clearGallery();\n  if (searchValue === '') {\n    iziToast.warning({\n      position: 'topRight',\n      title: 'Caution',\n      message: 'Please enter a search query',\n    });\n    return;\n  }\n  showLoader();\n\n  setTimeout(() => {\n    getImages(searchValue)\n      .then(({ hits }) => {\n        hideLoader();\n        if (hits.length === 0) {\n          iziToast.error({\n            position: 'topRight',\n            title: 'Caution',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n          return;\n        }\n        renderImages(hits);\n        lightbox.refresh();\n      })\n      .catch(error => {\n        hideLoader();\n        iziToast.error({\n          position: 'topRight',\n          title: 'Caution',\n          message: 'Sorry something wrong! Try again later',\n        });\n        console.log(error);\n      });\n  }, 1000);\n}\n"],"names":["getImages","searchValue","BASE_URL","API_KEY","params","url","response","galleryList","loader","renderImages","images","markup","webformatURL","largeImageURL","likes","comments","downloads","views","tags","clearGallery","showLoader","hideLoader","searchForm","lightbox","SimpleLightbox","onSearchFormSubmit","event","iziToast","hits","error"],"mappings":"6vBAQO,SAASA,EAAUC,EAAa,CACrC,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,IAAIE,CAAM,GACjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCzBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,MAAAC,EACA,KAAAC,CACR,IAAY;AAAA,iBACKL,CAAa,eAAeD,CAAY,UAAUM,CAAI;AAAA;AAAA,uBAEhDJ,CAAK;AAAA,uBACLG,CAAK;AAAA,0BACFF,CAAQ;AAAA,2BACPC,CAAS;AAAA;AAAA;AAAA,GAI/B,EACA,KAAK,EAAE,EACVT,EAAY,mBAAmB,YAAaI,CAAM,CACpD,CAEO,SAASQ,GAAe,CAC7BZ,EAAY,UAAY,EAC1B,CAEO,SAASa,GAAa,CAC3BZ,EAAO,MAAM,QAAU,cACzB,CAEO,SAASa,GAAa,CAC3Bb,EAAO,MAAM,QAAU,MACzB,CC3BA,MAAMc,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAW,iBAAiB,SAAUG,CAAkB,EAExD,SAASA,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMzB,EAAcqB,EAAW,SAAS,YAAY,MAAM,OAE1D,GADAH,IACIlB,IAAgB,GAAI,CACtB0B,EAAS,QAAQ,CACf,SAAU,WACV,MAAO,UACP,QAAS,6BACf,CAAK,EACD,MACD,CACDP,IAEA,WAAW,IAAM,CACfpB,EAAUC,CAAW,EAClB,KAAK,CAAC,CAAE,KAAA2B,KAAW,CAElB,GADAP,IACIO,EAAK,SAAW,EAAG,CACrBD,EAAS,MAAM,CACb,SAAU,WACV,MAAO,UACP,QACE,0EACd,CAAW,EACD,MACD,CACDlB,EAAamB,CAAI,EACjBL,EAAS,QAAO,CACxB,CAAO,EACA,MAAMM,GAAS,CACdR,IACAM,EAAS,MAAM,CACb,SAAU,WACV,MAAO,UACP,QAAS,wCACnB,CAAS,EACD,QAAQ,IAAIE,CAAK,CACzB,CAAO,CACJ,EAAE,GAAI,CACT"}